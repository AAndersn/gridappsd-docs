

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Integrated Applications &mdash; GridAPPS-D 1.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="GridAPPS-D 1.0 documentation" href="../index.html"/>
        <link rel="next" title="API Documentation" href="../api_docs/index.html"/>
        <link rel="prev" title="Data Model" href="../data_model/index.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> GridAPPS-D
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../overview/index.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installing_gridappsd/index.html">Installing GridAPPS-D</a></li>
<li class="toctree-l1"><a class="reference internal" href="../using_gridappsd/index.html">Using GridAPPS-D</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer_resources/index.html">GridAPPS-D Development Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data_model/index.html">Data Model</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Integrated Applications</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#volt-var-optimization-vvo">Volt-var Optimization (VVO)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#visualization">Visualization</a></li>
<li class="toctree-l2"><a class="reference internal" href="#pnnl-applications-release-cycle-2">PNNL Applications (Release Cycle 2)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#state-estimator">State Estimator</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#objectives">Objectives</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#use-cases">Use Cases</a></li>
<li class="toctree-l3"><a class="reference internal" href="#distribution-system-state-estimation-algorithms">Distribution System State Estimation Algorithms</a></li>
<li class="toctree-l3"><a class="reference internal" href="#trl">TRL</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#design">Design</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#inputs">Inputs:</a></li>
<li class="toctree-l3"><a class="reference internal" href="#outputs">Outputs:</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#testing-and-validation">Testing and Validation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#evaluation-metrics">Evaluation metrics</a></li>
<li class="toctree-l3"><a class="reference internal" href="#scenarios">Scenarios</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#operating-running">Operating/Running</a></li>
<li class="toctree-l2"><a class="reference internal" href="#references">References</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#model-validator">Model Validator</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#id4">Objectives</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id5">Use Cases</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id6">Design</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id7">Inputs:</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id8">Outputs:</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id9">Testing and Validation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id10">Evaluation metrics</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id11">Scenarios</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id12">Operating/Running</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#nrel-applications-release-cycle-2">NREL Applications (Release Cycle 2)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#distribution-optimal-power-flow-for-real-time-setpoint-dispatch">Distribution Optimal Power Flow for Real-Time Setpoint Dispatch</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#id27">Objectives</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id28">Design</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id29">Testing and Validation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id30">Operating/Running</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id31">References</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../api_docs/index.html">API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license/license.html">License</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">GridAPPS-D</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Integrated Applications</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/hosted_applications/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="integrated-applications">
<h1>Integrated Applications<a class="headerlink" href="#integrated-applications" title="Permalink to this headline">¶</a></h1>
<div class="section" id="volt-var-optimization-vvo">
<h2>Volt-var Optimization (VVO)<a class="headerlink" href="#volt-var-optimization-vvo" title="Permalink to this headline">¶</a></h2>
<p>The sample VVO application is a Python implementation of a heuristic method that PNNL has
investigated before <a class="reference internal" href="../overview/index.html#cit3" id="id1">[CIT3]</a>, <a class="reference internal" href="../overview/index.html#cit4" id="id2">[CIT4]</a>, <a class="reference internal" href="../overview/index.html#cit5" id="id3">[CIT5]</a>. There are more advanced VVO methods that
could be implemented in future applications.</p>
</div>
<div class="section" id="visualization">
<h2>Visualization<a class="headerlink" href="#visualization" title="Permalink to this headline">¶</a></h2>
<p>We have created a web-based visualization of the sample VVO application.
The visualization displays the topology of the IEEE 8500-Node system as an
interactive graph.  Capacitors and regulators are highlighted in the graph
and displayed alongside tables with current values for capacitor status
(OPEN or CLOSED), regulator voltage, and feeder power.</p>
</div>
<div class="section" id="pnnl-applications-release-cycle-2">
<h2>PNNL Applications (Release Cycle 2)<a class="headerlink" href="#pnnl-applications-release-cycle-2" title="Permalink to this headline">¶</a></h2>
</div>
</div>
<div class="section" id="state-estimator">
<h1>State Estimator<a class="headerlink" href="#state-estimator" title="Permalink to this headline">¶</a></h1>
<div class="section" id="objectives">
<h2>Objectives<a class="headerlink" href="#objectives" title="Permalink to this headline">¶</a></h2>
<p>State estimation is widely used in transmission system operations but is
less common in distribution system operations due to a relatively
limited value in traditional distribution systems, additional
computational complexity, and a lack of sensors. Advanced distribution
management platforms like GridAPPS-D provide access to model and sensor
data that can be leveraged to overcome barriers to adoption and open the
door to distribution system state estimators that are fast and accurate
enough to be useful in utility operations.</p>
<p>A distribution system state estimator computes the most likely state
given a set of present and/or past measurements. The full state of a
distribution system consists of either the full set of complex bus
voltages or the full set of complex branch currents; given the system
model (admittance matrix), the remaining system parameters can be
computed given the full system state.</p>
<div class="section" id="use-cases">
<h3>Use Cases<a class="headerlink" href="#use-cases" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Assist power factor optimization: Utility objective is unity
power-factor at the substation.</li>
<li>Assist voltage optimization (planning): Utility objective is 1 p.u.
voltage at last house primary.</li>
<li>Real-time state estimation for advanced applications: applications
can access the state estimate at a sufficient resolution to capture
e.g. insolation variation caused by clouds.</li>
</ul>
</div>
<div class="section" id="distribution-system-state-estimation-algorithms">
<h3>Distribution System State Estimation Algorithms<a class="headerlink" href="#distribution-system-state-estimation-algorithms" title="Permalink to this headline">¶</a></h3>
<p>State estimation uses system model information to produce an estimate of
the state vector x given a measurement vector z. The measurement vector
is related to the state vector and an error vector by the measurement
function, which may be non-linear.</p>
<div class="math notranslate">
\[z = h(x) + e\]</div>
<p>Multiple formulations of the distribution system state estimation
problem are possible:</p>
<ol class="arabic simple">
<li><em>Node Voltage State Estimation (NVSE):</em> The state vector consists of
node voltage magnitudes and angles for each node in the system (one
reference angle can be eliminated from the state vector). This
formulation of the state estimation problem is general to any
topology and it is the standard for transmission system state
estimation.</li>
<li><em>Branch Current State Estimation (BCSE):</em> Radial topology and
assumptions about shunt losses create a linear formulation of the
state estimation problem. The state vector contains branch currents
and, for a fully-constrained problem, requires one state per load,
which can be less than the number of branches in the system.</li>
</ol>
<p>Different algorithms provide different advantages for distribution
system state estimation. A subset of the state estimation algorithms
below will be used to achieve these goals.</p>
<ol class="arabic simple">
<li><em>Weighted Least Squares Estimation (WLSE)</em>: a concurrent set of
measurements are used to find a state vector that minimizes the
weighted least squares objective function. The algorithm is
memoryless with respect to previous solutions and measurements should
be synchronized.</li>
<li><em>Kalman Filter Estimation (KFE) and Extended Kalman Filter Estimation
(EKFE)</em>: The Kalman filter provides a mechanism to consider past
state estimates alongside present measurements. This provides
additional noise rejection and allows asynchronous measurements can
be considered individually. KFE is appropriate for linear BCSE and
EKFE is compatible with nonlinear NVSE.</li>
<li><em>Unscented Kalman Filter Estimation (UKFE)</em>: The unscented transform
estimates the expected value and variance of the system state by
observing the system outputs for inputs spanning the full
dimensionality of the measurement space. Again, the Kalman filter
provides a mechanism to consider past estimates.</li>
</ol>
</div>
<div class="section" id="trl">
<h3>TRL<a class="headerlink" href="#trl" title="Permalink to this headline">¶</a></h3>
<p>The state estimator application will provide the capability to estimate
the full system state using asynchronous measurement data. In addition a
model order reduction technique will be implemented to greatly speed up
the state estimation computation and to reduce the dependence on
forecast-based pseudo-measurements. A paper (<em>Reduced-Order State
Estimation for Power Distribution Systems with Sparse Sensing</em>) is
targeted for IEEE Transactions on Power Systems.</p>
</div>
</div>
<div class="section" id="design">
<h2>Design<a class="headerlink" href="#design" title="Permalink to this headline">¶</a></h2>
<p>The state estimation service is being developed in c++. A modern c++
implementation allows the application to adapt to an evolving interface.
The program architecture is shown below.</p>
<p><img alt="image0" src="../_images/SE_Service.png" /></p>
<p>Topology Processor: initializes the measurement function and its
Jacobian and determines the size of the measurement vector, the
measurement covariance matrix, and the state vector.</p>
<p>Meter Interface: updates the measurement vector and the measurement
covariance matrix as new measurement data comes available.</p>
<p>State Estimator: performs the state estimation operation according to
the specified algorithm.</p>
<p>Output Interface: formats the state vector and any implicit states as an
output stream.</p>
<div class="section" id="inputs">
<h3>Inputs:<a class="headerlink" href="#inputs" title="Permalink to this headline">¶</a></h3>
<p>Upon initialization, the topology processor will receive the Y-bus from
the GridLAB-D service and will query contextual information and sensor
locations from the CIM database.</p>
<p>Periodic measurement data, including any forecasts to be used a
pseudo-measurements will be required as inputs.</p>
<p>A “terminate” command from the platform will end the state estimation
process.</p>
</div>
<div class="section" id="outputs">
<h3>Outputs:<a class="headerlink" href="#outputs" title="Permalink to this headline">¶</a></h3>
<p>The output will include the full system state (node voltages and/or
branch currents TBD).</p>
</div>
</div>
<div class="section" id="testing-and-validation">
<h2>Testing and Validation<a class="headerlink" href="#testing-and-validation" title="Permalink to this headline">¶</a></h2>
<div class="section" id="evaluation-metrics">
<h3>Evaluation metrics<a class="headerlink" href="#evaluation-metrics" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>State Error: compare state estimation output to “true” system state.</li>
<li>Accuracy over baseline: compare state error of state estimator to
state error of a QSTS load-flow model.</li>
<li>Execution Time</li>
<li>Bad Sensor Detection (binary)</li>
</ul>
</div>
<div class="section" id="scenarios">
<h3>Scenarios<a class="headerlink" href="#scenarios" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Full sensor deployment: verify that the true system state can be
reproduced.</li>
<li>Sparse sensor deployment: verify that the state estimator performs
better than a QSTS load-flow model.</li>
<li>Breaker trip: verify that switch state can be detected even when it
is reported incorrectly.</li>
<li>Bad sensor detection: verify that a sensor that is producing bad data
can be identified.</li>
<li>Dependent application support: verify that the state estimator can
support e.g. the VVO application.</li>
<li>Fault: for a radial system, determine the nearest common bus from
multiple emulated customer calls.</li>
</ul>
</div>
</div>
<div class="section" id="operating-running">
<h2>Operating/Running<a class="headerlink" href="#operating-running" title="Permalink to this headline">¶</a></h2>
<p>The state estimator will execute the topology processor at
initialization and will enter a stat estimation loop. The state
estimation loop will exit and the process will end upon receiving a
‘terminate’ command from the platform.</p>
<p>At initialization, a configuration file will be read for:</p>
<ul class="simple">
<li>State estimation mode (state vector and algorithm) selection</li>
<li>Normalized residual threshold for bad measurement / sensor detection</li>
</ul>
</div>
<div class="section" id="references">
<h2>References<a class="headerlink" href="#references" title="Permalink to this headline">¶</a></h2>
<p>[1] Abur and A. G. Exposito, <em>Power System State Estimation</em>, New York,
NY: Marcel Dekker, Inc., 2004.</p>
<p>[2] M. E. Baran and A. W. Kelley, “A branch-current-based state
estimation method for distribution systems,” in <em>IEEE Transactions on
Power Systems</em>, vol. 10, no. 1, pp. 483-491, Feb 1995.</p>
<p>[3] Z. Jia, J. Chen and Y. Liao, “State estimation in distribution
system considering effects of AMI data,” <em>2013 Proceedings of IEEE
Southeastcon</em>, Jacksonville, FL, 2013, pp. 1-6.</p>
<p>[4] S. C. Huang, C. N. Lu and Y. L. Lo, “Evaluation of AMI and SCADA
Data Synergy for Distribution Feeder Modeling,” in <em>IEEE Transactions on
Smart Grid</em>, vol. 6, no. 4, pp. 1639-1647, July 2015.</p>
<p>[5] M. Kettner; M. Paolone, “Sequential Discrete Kalman Filter for
Real-Time State Estimation in Power Distribution Systems: Theory and
Implementation,” in <em>IEEE Transactions on Instrumentation and
Measurement</em>, vol.PP, no.99, pp. 1-13, Jun. 2017.</p>
<p>[6] G. Valverde and V. Terzija, “Unscented kalman filter for power
system dynamic state estimation,” in <em>IET Generation, Transmission &amp;
Distribution</em>, vol. 5, no. 1, pp. 29-37, Jan.</p>
</div>
</div>
<div class="section" id="model-validator">
<h1>Model Validator<a class="headerlink" href="#model-validator" title="Permalink to this headline">¶</a></h1>
<div class="section" id="id4">
<h2>Objectives<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h2>
<p>The model validator will detect and attempt to correct unreasonable
component interconnections and network parameters.</p>
<div class="section" id="id5">
<h3>Use Cases<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Valid transformer size and orientation (Utility): orientation is not
captured explicitly in their GIS system.</li>
<li>Discover secondary line impedance parameters (Utility) conductor type
and line length are currently based on generic assumptions.</li>
<li>Sanity check or estimate transformer size and impedance.</li>
<li>Verify that the nominal voltage of nodes matches the base voltage of
the segment: generally the winding voltage of the upstream
transformer or swing bus voltage.</li>
<li>Sanity check conductor sizes and line current ratings.</li>
<li>Validate and fill in regulator and capacitor control settings.</li>
<li>Check phase continuity (GridLAB-D may not model phase
discontinuities)</li>
</ul>
</div>
</div>
<div class="section" id="id6">
<h2>Design<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h2>
<p>The model validation application will be implemented in Python.</p>
<p><img alt="image1" src="../_images/MV_App.png" /></p>
<div class="section" id="id7">
<h3>Inputs:<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h3>
<p>The model validator will have access to the CIM database and archived
data from the state estimator.</p>
</div>
<div class="section" id="id8">
<h3>Outputs:<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h3>
<p>The model validator will one or both of the following outputs:</p>
<ul class="simple">
<li>Model status: log file or GUI pipe for identified issues.</li>
<li>Model correction: CIM updates to correct identified issues.</li>
</ul>
</div>
</div>
<div class="section" id="id9">
<h2>Testing and Validation<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id10">
<h3>Evaluation metrics<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Ability to detect known issues.</li>
</ul>
</div>
<div class="section" id="id11">
<h3>Scenarios<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Utility merger: models with different format may be interpreted
differently, creating issues a CIM model.</li>
<li>Data entry issue: model update does not match upgrade performed in
the field</li>
</ul>
</div>
</div>
<div class="section" id="id12">
<h2>Operating/Running<a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h2>
<p>The model validator script will execute once when called by the
platform.</p>
<p>At initialization, a configuration file will be read for:</p>
<ul class="simple">
<li>Mode (status, quiet, verbose; see outputs section)</li>
<li>Selectable validation items (use cases)</li>
</ul>
<div class="toctree-wrapper compound" id="pnnl-apps-rc2">
</div>
<p>Given a perfect and complete set of voltage magnitude and angle
measurements, along with a detailed and accurate power system model, one
could calculate the real power, or any other electrical variable of
interest, anywhere in the system. In practice, measurements have errors,
time delays, and may even be missing. State estimation refers to the
process of minimizing the errors and filling in gaps <a class="footnote-reference" href="#id20" id="id13">[1]</a>. One state
estimation method is called “weighted least squares”, and it’s analogous
to drawing the best-fit line through a set of scattered points. Other
methods may perform better <a class="footnote-reference" href="#id21" id="id14">[2]</a>. Also, on distribution systems, it may be
better to estimate branch currents instead of node voltages, but the
principle is the same. In GridAPPS-D, the visualizations and
applications ought to use the best available state estimator outputs,
instead of raw SCADA values, for both accuracy and consistency.
Therefore, the state estimator is not an application but a service in
GridAPPS-D, sitting between emulated SCADA and the GOSS bus.</p>
<p><img alt="image0" src="../_images/SE_Service.png" /></p>
<p>Figure 1: The state estimator processes noisy and incomplete
measurements, then posting estimated voltage (V), current (I), real
power (P), reactive power (Q) and switch status (S) values onto the
GridAPPS-D message / data bus.</p>
<p>In Figure 1, the power system model (upper left) will include a limited
number of sensors, corresponding to actual voltage and current
transformers, line post sensors, wireless sensors, etc. In some
scenarios, smart meters can also be sensors. Each such sensor will have
different performance characteristics (e.g. precision, accuracy,
sampling rate). Distribution systems typically do not have enough
sensors to make the system observable, so there will be measurement gaps
in the topology. The state estimator might fill these gaps with
interpolation and graph-tracing methods on the power system model.</p>
<p>The supervisory control and data acquisition (SCADA) system in Figure 1
introduces more errors and failure points. Eventually, GridAPPS-D may
simulate these impacts by federating ns-3 as a co-simulator. Until then,
a placeholder module could be used to insert variable errors, time
delays and dropouts in each measurement, whether due to sensor
characteristics or the communication system. The output represents data
as it would come into an operations center, and feeds the state
estimator. Internally, the data flows between simulator, SCADA and state
estimator might be implemented with FNCS, but this is an implementation
detail. The state estimator will provide two outputs to the GOSS bus
used by all GridAPPS-D applications:</p>
<ol class="arabic simple">
<li>At a time step configured by the platform, publish the best-estimate
VIPQS values wherever sensors actually exist in the model, with
quality attributes that still have to be established. Sensor
locations delineate circuit segments, and note that all VIPQS values
will be estimated at the boundaries, even if the sensor measures only
V or I, for example.</li>
<li>Upon request by another application or service, publish the estimated
VIPQS values for all nodes and components in the model, even at
locations where no sensors exist. A variant is to publish the
estimates only for selected nodes and components.</li>
</ol>
<p>As indicated in Figure 1, other applications need to obtain estimated
VIPQS values from the GOSS bus. Switch open/close states are a special
case; they might be considered known values, but in practice the switch
state is a measurement, which could lead to topology errors in the
model. For GridAPPS-D, switch state estimates need to be a point of
emphasis. Given that most distribution systems lack redundant
measurements, It would be possible for an application to query these
VIPQS values directly from the simulator or SCADA, bypassing the state
estimator, but this is “cheating” in most situations. However, in the
application development process, idealized VIPQS values could be
obtained through a combination of two methods:</p>
<ol class="arabic simple">
<li>Add more sensors to the power system model</li>
<li>Set the sensor and channel errors to zero</li>
</ol>
<p>Because the sensor outputs in GridAPPS-D come from a power flow solution
that enforces Kirchhoff’s Laws, the state estimator will produce ideally
accurate values whenever the sensor and channel errors have been
specified to be zero. The state estimator may still exhibit
interpolation errors between sensor locations, but that is readily
mitigated for testing purposes by adding more sensors.</p>
<p>With reference to RC1, the visualization and VVO applications should now
subscribe to VIPQS values from the state estimator, not from the
distribution simulator. They may also use or display quality metrics on
the estimated values.</p>
<p>The state estimator basically attempts to fit measured data to a power
flow model, usually assuming that the model is correct. However, a model
attribute (e.g. line impedance) could also be estimated by minimizing
its error residual in the state estimator’s power flow solution. This
process works best when applied to just one or a few suspect attributes,
and/or when an archive is available to provide enough redundant
measurements. The Model Validation Application will use these state
estimator features off-line to help identify and correct the following
types of model errors:</p>
<ol class="arabic simple">
<li>Unknown or incorrect service transformer sizes</li>
<li>Unknown or incorrect secondary circuit lengths</li>
<li>Incorrect phase identification of single-phase components</li>
<li>Phase wiring errors in line segments and switches</li>
<li>Transformer connection errors, especially reversed primary and
secondary</li>
<li>Primary conductor sizes that don’t decrease monotonically with
distance from the source</li>
<li>Missing regulator and capacitor control settings (i.e. supply
defaults from heuristic rules)</li>
<li>More than one of these on the same pole: recloser, line regulator,
capacitor</li>
<li>Substation transformer impedance and turns ratio</li>
</ol>
<p>These types of errors often appear upon the initial model import from a
geographic information system (GIS), or in periodic model updates from
GIS. Other error types may be added later. Many utilities do not have
their secondary circuits modeled at all, but this has an important
impact on AMI data. The service transformers and secondary circuits
insert significant impedance between AMI meters and the primary circuit,
where most of the other sensors are installed. Therefore, the first two
items will require AMI data, and also enable its more effective use.</p>
<p>As shown in Figure 2, the Model Validator integrates with GridAPPS-D as
a hosted application on the GOSS bus. Internally, it will use some of
the same algorithms as the State Estimator and may share some code or
binary files, but this is an implementation detail. It will need to
access an archive of state-estimated VIPQS data, which may include AMI
data. It will also use or incorporate an off-line power flow model, not
the same one running in the GridAPPS-D distribution simulator. This may
be EPRI’s OpenDSS simulator <a class="footnote-reference" href="#id22" id="id15">[3]</a>; compared to GridLAB-D, it’s more
tolerant of model errors and provides more diagnostic information about
model errors.</p>
<p><img alt="image1" src="../_images/MV_App.png" /></p>
<p>Figure 2: The Model Validator works with an archive from the state
estimator, and an off-line power flow model.</p>
<p>Transactive energy is a method of controlling loads and resources on the
distribution system, combining both market and electrical principles
<a class="footnote-reference" href="#id23" id="id16">[4]</a>. One reason for including this application in DOE-funded GridAPPS-D
is that PNNL has made several technical contributions and led several
demonstration projects in transactive systems, also funded by DOE <a class="footnote-reference" href="#id24" id="id17">[5]</a>.</p>
<p><strong>Application structure</strong></p>
<p>This transactive systems application is to be implemented as a
modularized 2-layer 3-level structure, as seen from Figure 3. The layer
decomposition helps the control of various groups, with limited
information flow between different layers. With the predefined functions
in each agent type (Agent A, B, and C) in each level, the existing
transactive system related work can be conveniently integrated into the
application, and the new control features can be added into specific
control function in each type of the agent easily.</p>
<p><img alt="TransactiveSystemAppStructure" src="../_images/TransactiveSystemAppStructure.png" /></p>
<p>Figure 3: The structure of the modularized 2-layer 3-level transactive
system application</p>
<p>The modularized agents opens the door for integrating different control
mechanisms into the application. Users need to consider which level
their control algorithm fits into, and fill in the control function of
the Agent class in that level, without worrying about communications
between the agents. In each level, the same type of the agent may have
various control functions, which help combining benefits of different
control schemes together.</p>
<p>Agent A, B and C will be implemented as VOLTTRON applications. VOLTTRON
is an application platform for distributed sensing and control
applications <a class="footnote-reference" href="#id25" id="id18">[6]</a>. With the capability of hardware-in-the-loop (HIL)
testing through VOLTTRON, the transactive systems application will be
tested using the actual devices. A GOSS-VOLTTRON Bridge is to be
implemented, for the communication between GridAPPS-D and the VOLTTRON
agents in the transactive systems application.</p>
<p><strong>Application test cases</strong></p>
<p>The hierarchical control framework introduced in <a class="footnote-reference" href="#id26" id="id19">[7]</a> for integrated
coordination between distributed energy resources and demand response
will be implemented into the application. In addition, [7] has not
considered the power losses or power constrains, which will be taken
into consideration in this test case. The two-layer control mechanism,
including the coordination layer and device layer, fits the proposed
structure of the application well. The control in each level will be
implemented into corresponding function in each type of the agent. The
IEEE 123-node test feeder built in GridLAB-D will be used for testing
the application.</p>
<p><strong>CIM extension for the Application</strong></p>
<p>The latest versions of GridAPPS-D has used a reduced-order CIM to
support feeder modeling. With transactive system application included
into GridAPPS-D platform, more objects, such as house air conditioner
and water heater, need to be defined in CIM. Before the definition in
CIM, a simplified version of the house object and water heater object
are to be implemented in GridLAB-D.</p>
<table class="docutils footnote" frame="void" id="id20" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id13">[1]</a></td><td><ol class="first last upperalpha simple" start="20">
<li><ol class="first upperalpha" start="5">
<li>McDermott, “Grid Monitoring and State Estimation,” in <em>Smart Grid Handbook</em>, ed: John Wiley &amp; Sons, Ltd, 2016.</li>
</ol>
</li>
</ol>
</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id21" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id14">[2]</a></td><td><ol class="first last upperalpha simple">
<li>Abur and A. Gómez Expósito, <em>Power system state estimation : theory and implementation</em>. New York, NY: Marcel Dekker, 2004.</li>
</ol>
</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id22" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id15">[3]</a></td><td><ol class="first last upperalpha simple" start="18">
<li><ol class="first upperalpha" start="3">
<li>Dugan and T. E. McDermott, “An open source platform for collaborating on smart grid research,” in <em>Power and Energy Society General Meeting, 2011 IEEE</em>, 2011, pp. 1-7.</li>
</ol>
</li>
</ol>
</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id23" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id16">[4]</a></td><td>Gridwise Architecture Council. (2017). <em>Transactive Energy</em>. Available: <a class="reference external" href="http://www.gridwiseac.org/about/transactive_energy.aspx">http://www.gridwiseac.org/about/transactive_energy.aspx</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id24" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id17">[5]</a></td><td>Pacific Northwest National Laboratory. (2017). <em>Transactive Energy Simulation Platform (TESP)</em>. Available: <a class="reference external" href="http://tesp.readthedocs.io/en/latest/">http://tesp.readthedocs.io/en/latest/</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id25" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id18">[6]</a></td><td><ol class="first last upperalpha simple" start="19">
<li>Katipamula, J. Haack, G. Hernandez, B. Akyol, and J. Hagerman, “VOLTTRON: An Open-Source Software Platform of the Future,” <em>IEEE Electrification Magazine,</em> vol. 4, pp. 15-22, 2016.</li>
</ol>
</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id26" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id19">[7]</a></td><td>Di Wu, Jianming Lian, Yannan Sun, Tao Yang, Jacob Hansen, “Hierarchical control framework for integrated coordination between distributed energy resources and demand response,” Electric Power Systems Research, pp. 45-54, May 2017.</td></tr>
</tbody>
</table>
</div>
<div class="section" id="nrel-applications-release-cycle-2">
<h2>NREL Applications (Release Cycle 2)<a class="headerlink" href="#nrel-applications-release-cycle-2" title="Permalink to this headline">¶</a></h2>
</div>
</div>
<div class="section" id="distribution-optimal-power-flow-for-real-time-setpoint-dispatch">
<h1>Distribution Optimal Power Flow for Real-Time Setpoint Dispatch<a class="headerlink" href="#distribution-optimal-power-flow-for-real-time-setpoint-dispatch" title="Permalink to this headline">¶</a></h1>
<div class="section" id="id27">
<h2>Objectives<a class="headerlink" href="#id27" title="Permalink to this headline">¶</a></h2>
<p>This application is designed to address the problem of optimizing the
operation of aggregations of heterogeneous energy resources connected to
a distribution system. We will focus on real-time optimization method
and the power setting points of the distributed energy resources (DERs)
will be updated on a second or subsecond timescale to maximize the
operational objectives while coping with the variability of ambient
conditions and noncontrollable energy assets [1]. In order to avoid
massive measurements and overcome the limitation caused by model
inaccuracy, this application will be implemented in a distributed
manner, and only local measurements and a feedback signal from the
substation aggregator are needed to determine the optimal setpoints for
each controlled DER unit.</p>
<p><a class="reference internal" href="../_images/image1.png"><img alt="nrel_OPF_image0" src="../_images/image1.png" style="width: 5.42687in; height: 3.61346in;" /></a></p>
<p><strong>Figure 1 The conceptual framework of distribution OPF for real-time
setpoint dispatch.</strong></p>
<p>Figure 1 shows the conceptual framework of this application, and this
application is targeting at TRL 3.</p>
</div>
<div class="section" id="id28">
<h2>Design<a class="headerlink" href="#id28" title="Permalink to this headline">¶</a></h2>
<p>Figure 2 describes the overall work flow of the application.
Distribution OPF algorithm requires real-time measurements, distribution
system model and power flow results, which will be obtained from
GridAPPS-D platform through GOSS/FNCS message bus. The optimization
problem formulation can be constructed using user-defined cost functions
for different controllable devices. Finally the optimal setpoints for
controllable devices will be solved based on the feedback information
from system measurements. These setpoints will be sent back to GridLab-D
grid model to update DER operations. Such a closed-loop control forms
the control iteration for the studied time point, and new setpoints for
the following time points will be determined in the same manner using
the updated model and measurements.</p>
<p><img alt="nrel_OPF_image1" src="../_images/Distribution_OPF2.png" /></p>
<p><strong>Figure 2 The workflow of real-time setpoint dispatch application and
its interaction with GridApps-D.</strong></p>
<p>Data requirements</p>
<p>Message schemas (UML) (Enterprise Architect software) Jeff will help
draw the UML diagram.</p>
</div>
<div class="section" id="id29">
<h2>Testing and Validation<a class="headerlink" href="#id29" title="Permalink to this headline">¶</a></h2>
<p>Evaluation metrics of this application:</p>
<ul class="simple">
<li>Real/reactive power at the substation</li>
<li>System loss</li>
<li>Voltages across the entire distribution grid: voltage magnitude,
voltage fluctuation, voltage unbalance.</li>
<li>Legacy control device operations: total control actions of all
capacitors and regulators</li>
</ul>
<p>Scenarios:</p>
<ul class="simple">
<li>Optimal Dispatch for Distributed PV Systems</li>
<li>Optimal Dispatch for Distributed PV + Energy Storage</li>
<li>Etc. (will be added when implementing the application)</li>
</ul>
</div>
<div class="section" id="id30">
<h2>Operating/Running<a class="headerlink" href="#id30" title="Permalink to this headline">¶</a></h2>
<p>This application will be developed using Python.</p>
</div>
<div class="section" id="id31">
<h2>References<a class="headerlink" href="#id31" title="Permalink to this headline">¶</a></h2>
<p>[1] E. Dall’Anese, A. Bernstein, and A. Simonetto, “Feedback-based
Projected-gradient Method for Real-time Optimization of Aggregations
of&nbsp;Energy Resources,”&nbsp;IEEE Global Conference on Signal&nbsp;and Information
Processing (GlobalSIP),&nbsp;Montreal, Canada, Nov. 2017.</p>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../api_docs/index.html" class="btn btn-neutral float-right" title="API Documentation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../data_model/index.html" class="btn btn-neutral" title="Data Model" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Battelle Memorial Institute All rights reserved..

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>